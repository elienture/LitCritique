(()=>{"use strict";var e=document.getElementById("reviewForm"),t=document.getElementById("closeButton"),n=document.getElementById("addButton"),i=document.getElementById("formModal"),a=document.getElementById("review").content,o=document.querySelector(".reviews_list"),r=document.querySelectorAll(".star"),s=0;function c(e){var t=a.querySelector(".review_box").cloneNode(!0),n=t.querySelector(".review_title"),i=t.querySelector(".review_image"),o=t.querySelector(".review_description"),r=t.querySelector(".review_author"),s=t.querySelectorAll(".star");return i.src=e.image,n.textContent=e.name,r.textContent=e.author,o.textContent=e.description,function(e,t){e.forEach((function(n,i){i<t.rating&&n.classList.add("selected"),n.addEventListener("click",(function(){e.forEach((function(e,t){e.classList.remove("selected"),t<=i&&e.classList.add("selected")}))})),n.addEventListener("mouseover",(function(){e.forEach((function(e,t){t<=i?e.classList.add("hover"):e.classList.remove("hover")}))})),n.addEventListener("mouseout",(function(){e.forEach((function(e){e.classList.remove("hover")}))}))}))}(s,e),function(e){var t=e.querySelector(".flip_button_front"),n=e.querySelector(".flip_button_back");t.addEventListener("click",(function(){e.classList.toggle("is-flipped")})),n.addEventListener("click",(function(){e.classList.toggle("is-flipped")}))}(t),t}function l(e,t,n,i,a){var r=c({name:e,description:t,image:n,author:i,rating:a});o.prepend(r)}[{name:"What I talk about when I talk about running",image:"https://images.squarespace-cdn.com/content/v1/5fea3b3d46d31b1ddd850cf5/1617984349371-0MVPHNPR7WU1P9IU90MX/1_cApQ5sl_OaVJMwHFpoOc1Q.jpeg?format=2500w",author:"Haruki Murakami",description:"Haruki Murakami's 'What I Talk About When I Talk About Running' explores the connection of the writer’s strategies in writing and running. Through his personal experience, Murakami reveals how the discipline of long-distance running parallels the art of writing. He highlights the importance of routine, perseverance, and the challenges that come with both practices. Murakami's book offers insights on finding inspiration and the significance of commitment to both art and sport. His observations about pain, solitude, and stamina resonate deeply, inspiring readers to embrace their own creative journeys. Overall, the book serves not only as a memoir but also as a guide for aspiring writers seeking motivation and wisdom, in order to expand their writing abilities.",rating:5},{name:"Perfume: The Story of a Murderer",image:"https://cdn1.ozone.ru/s3/multimedia-1-4/7128746932.jpg",author:"Patrick Süskind",description:'"Perfume: The Story of a Murderer" is a hauntingly unique exploration of obsession and self-identity through the life of Jean-Baptiste Grenouille, a peculiar man born with an extraordinary sense of smell, but with no human scent himself. The narrative immerses readers in the setting of 18th-century France, which Süskind depicts with vivid and very grotesque detail. While the story’s rather graphic gore can be unsettling and nausea-inducing - offering a glimpse into the ‘filthy France’ of that time period, or depicting Jean-Baptiste’s killings - it is precisely this intensity that makes the character’s journey so compelling to read. His search of the perfect scent, leading to ruthless acts of murder, raises questions about humanity and the nature of desire and passion.',rating:4},{name:"Catcher in the Rye",image:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/The_Catcher_in_the_Rye_%281951%2C_first_edition_cover%29.jpg/1032px-The_Catcher_in_the_Rye_%281951%2C_first_edition_cover%29.jpg",author:"J.D. Salinger",description:"Catcher in the Rye was quite a disappointing read. The constant use of profanity by the protagonist felt excessive and unnecessary to the story. Although the inclusion of vulgar language and some mild «adult»  themes do reflect Holden Caulfield’s (main character) angst and introduction to new experiences as a teenage boy, his behaviour and overall personality come across as forced and juvenile, making the novel hard to enjoy.",rating:2},{name:"The Master and Margarita",image:"https://papercutshop.se/wp-content/uploads/2021/09/71826PSk2mL.jpg",author:"Mikhail Bulgakov",description:"A playful devil’s arrival to the capital of Russia conveys many thought-provoking points. The novel captivates readers by its surreal and dark themes. The narrative brilliantly intertwines the story of Woland’s visit to Moscow with the tale of the Master and Margarita’s romance, full of passion and insanity. What particularly stands out are the amusing chaotic scenes where devilish creatures wreak havoc on the unsuspecting citizens of Moscow. These moments not only add a touch humor to the story but also serve as a critique of society and its flaws. It’s a highly recommended read for those who enjoy a mix of fantasy and philosophical exploration.",rating:5},{name:"Pride and Prejudice",image:"https://www.gutenberg.org/files/1342/1342-h/images/cover.jpg",author:"Jane Austen",description:"Pride and Prejudice is a timeless classic, which explores both romance and principles. The novel highlights themes such as social class, gender roles, and the pursuit of love - issues that resonate with us to this day. For instance, Elizabeth Bennet's struggle with societal expectations mirrors discussions about independence that take place nowadays. The witty dialogue and sharp social commentary keep the narrative engaging and relevant. Austen beautifully depicts the slow burn romance between Elizabeth and Mr. Darcy, expanding their growth as individuals and as a couple. Their initial resentment and continuous misunderstandings give way to mutual respect and deep affection, making their relationship feel genuine. Overall, Pride and Prejudice isn’t just a magnificent love story, but also an outlook to self-reflection, human behaviour and reaction to societal norms that endure through time.",rating:5},{name:"War and Peace",image:"https://www.gutenberg.org/files/2600/2600-h/images/cover.jpg",author:"Leo Tolstoy",description:"«War and Peace» by Leo Tolstoy is one of the most monumental works in Russian literature. It thoroughly depicts the lives of people during the Napoleonic Wars. The novel excels in its rich historical context and character development. Tolstoy’s ability to capture the just how complex the human nature is provides an insightful glimpse into the struggles of the era, especially when intertwined with the chaos of war. Nevertheless, the novel’s length can be intimidating to many readers, especially those who are just introducing themselves to Russian classics. The relentless focus on war and its horrors can also be excruciating - there were many times where I had to put the book down for a moment just to be rid of the «mind haze» that the novel presents.",rating:3}].forEach((function(e){return function(e){o.append(c(e))}(e)})),r.forEach((function(e){e.addEventListener("click",(function(){s=e.dataset.value,r.forEach((function(e,t){e.classList.remove("selected"),t<s&&e.classList.add("selected")}))})),e.addEventListener("mouseover",(function(){r.forEach((function(t,n){n<e.dataset.value&&t.classList.add("hover")}))})),e.addEventListener("mouseout",(function(){r.forEach((function(e){e.classList.remove("hover")}))}))})),e.addEventListener("submit",(function(t){t.preventDefault();var n=document.getElementById("title").value,a=document.getElementById("description").value,o=document.getElementById("author").value,r=document.getElementById("image"),c="https://i.ibb.co/FgxX4ZJ/no-book-cover.jpg",d=function(e){l(n,a,e,o,s),function(e,t,n,i,a){var o=JSON.parse(localStorage.getItem("reviews"))||[];o.push({name:e,description:t,image:n,author:i,rating:a}),localStorage.setItem("reviews",JSON.stringify(o))}(n,a,e,o,s)};if(r.files.length>0){var u=r.files[0],h=new FileReader;h.onload=function(){return d(h.result)},h.onerror=function(){return d(c)},h.readAsDataURL(u)}else d(c);i.style.display="none",e.reset()})),window.onload=function(){(JSON.parse(localStorage.getItem("reviews"))||[]).forEach((function(e){l(e.name,e.description,e.image,e.author,e.rating)}))},n.addEventListener("click",(function(){i.style.display="block",s=0,r.forEach((function(e){e.classList.remove("selected","hover")}))})),t.addEventListener("click",(function(){i.style.display="none"})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&(i.style.display="none")}))})();